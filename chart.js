var wednesday =[{'values': [[0, 0.35], [1, 0.35], [2, 0.35], [3, 0.35], [4, 0.35], [5, 1.82], [6, 2.71], [7, 3.29], [8, 9.76], [9, 45.59], [10, 85.65], [11, 90.88], [12, 93.76], [13, 94.53], [14, 94.82], [15, 94.59], [16, 93.65], [17, 88.65], [18, 80.29], [19, 60.41], [20, 24.82], [21, 5.35], [22, 1.35], [23, 0.12]], 'key': 'Beauty'}, {'values': [[0, 0.0], [1, 0.0], [2, 0.0], [3, 0.0], [4, 0.0], [5, 0.0], [6, 0.55], [7, 1.93], [8, 4.42], [9, 20.44], [10, 57.18], [11, 74.59], [12, 85.64], [13, 88.4], [14, 88.12], [15, 87.29], [16, 81.22], [17, 50.0], [18, 24.86], [19, 13.54], [20, 7.18], [21, 3.31], [22, 1.38], [23, 0.0]], 'key': 'Culture'}, {'values': [[0, 0.0], [1, 0.0], [2, 0.07], [3, 0.07], [4, 0.07], [5, 0.57], [6, 9.76], [7, 39.56], [8, 60.23], [9, 83.54], [10, 90.09], [11, 90.81], [12, 93.01], [13, 93.16], [14, 93.01], [15, 87.17], [16, 75.69], [17, 64.79], [18, 35.0], [19, 21.81], [20, 13.97], [21, 3.49], [22, 1.35], [23, 0.57]], 'key': 'Education'}, {'values': [[0, 0.0], [1, 0.0], [2, 0.0], [3, 0.0], [4, 0.0], [5, 0.0], [6, 1.45], [7, 2.9], [8, 7.25], [9, 18.12], [10, 27.54], [11, 39.86], [12, 48.55], [13, 48.55], [14, 48.55], [15, 50.72], [16, 50.0], [17, 46.38], [18, 44.93], [19, 43.48], [20, 42.03], [21, 36.96], [22, 30.43], [23, 10.87]], 'key': 'Entertainment'}, {'values': [[0, 3.12], [1, 3.2], [2, 3.21], [3, 3.21], [4, 3.31], [5, 3.8], [6, 4.26], [7, 10.29], [8, 30.06], [9, 85.15], [10, 94.37], [11, 95.1], [12, 95.04], [13, 95.17], [14, 95.53], [15, 95.23], [16, 93.22], [17, 60.63], [18, 37.45], [19, 26.59], [20, 20.72], [21, 9.77], [22, 6.55], [23, 3.79]], 'key': 'Finance'}, {'values': [[0, 0.33], [1, 0.33], [2, 0.33], [3, 0.37], [4, 0.98], [5, 5.04], [6, 11.04], [7, 19.64], [8, 27.87], [9, 37.58], [10, 49.29], [11, 71.52], [12, 75.33], [13, 75.41], [14, 74.97], [15, 73.24], [16, 73.55], [17, 70.74], [18, 66.92], [19, 62.92], [20, 56.43], [21, 34.49], [22, 7.52], [23, 0.75]], 'key': 'Food'}, {'values': [[0, 0.22], [1, 0.25], [2, 0.23], [3, 0.25], [4, 0.3], [5, 2.09], [6, 4.18], [7, 10.98], [8, 35.09], [9, 71.0], [10, 80.62], [11, 82.49], [12, 82.73], [13, 82.87], [14, 82.55], [15, 81.59], [16, 78.38], [17, 49.95], [18, 39.03], [19, 24.92], [20, 13.64], [21, 5.23], [22, 1.2], [23, 0.12]], 'key': 'Health'}, {'values': [[0, 0.38], [1, 0.77], [2, 0.77], [3, 0.77], [4, 1.15], [5, 1.92], [6, 1.92], [7, 3.46], [8, 4.62], [9, 6.92], [10, 8.85], [11, 18.46], [12, 22.69], [13, 22.69], [14, 23.08], [15, 24.23], [16, 25.77], [17, 28.46], [18, 28.46], [19, 27.31], [20, 24.23], [21, 17.69], [22, 5.38], [23, 0.77]], 'key': 'Nightclub'}, {'values': [[0, 0.23], [1, 0.23], [2, 0.23], [3, 0.23], [4, 0.25], [5, 0.29], [6, 0.62], [7, 2.77], [8, 16.3], [9, 91.31], [10, 96.14], [11, 96.6], [12, 96.36], [13, 96.51], [14, 96.48], [15, 96.33], [16, 94.85], [17, 39.73], [18, 15.06], [19, 7.58], [20, 4.23], [21, 1.43], [22, 0.54], [23, 0.27]], 'key': 'Office'}, {'values': [[0, 0.93], [1, 0.99], [2, 1.0], [3, 1.02], [4, 1.1], [5, 1.67], [6, 3.91], [7, 12.15], [8, 35.99], [9, 67.45], [10, 80.68], [11, 83.26], [12, 84.43], [13, 84.84], [14, 85.29], [15, 85.47], [16, 81.22], [17, 48.66], [18, 34.42], [19, 23.99], [20, 14.6], [21, 5.52], [22, 2.08], [23, 0.94]], 'key': 'Other'}, {'values': [[0, 2.56], [1, 2.56], [2, 2.56], [3, 2.56], [4, 2.56], [5, 5.13], [6, 5.13], [7, 7.69], [8, 51.28], [9, 89.74], [10, 89.74], [11, 89.74], [12, 89.74], [13, 89.74], [14, 89.74], [15, 89.74], [16, 84.62], [17, 20.51], [18, 10.26], [19, 10.26], [20, 5.13], [21, 2.56], [22, 2.56], [23, 2.56]], 'key': 'Public'}, {'values': [[0, 9.33], [1, 9.5], [2, 9.5], [3, 9.5], [4, 9.5], [5, 11.57], [6, 21.76], [7, 28.15], [8, 51.81], [9, 82.38], [10, 88.08], [11, 90.5], [12, 83.25], [13, 83.77], [14, 83.94], [15, 82.56], [16, 68.22], [17, 41.45], [18, 35.23], [19, 30.92], [20, 21.24], [21, 13.99], [22, 5.18], [23, 0.0]], 'key': 'Recreation'}, {'values': [[0, 0.87], [1, 0.96], [2, 0.96], [3, 0.96], [4, 1.06], [5, 1.45], [6, 2.7], [7, 6.56], [8, 16.59], [9, 56.7], [10, 60.75], [11, 61.33], [12, 60.56], [13, 59.59], [14, 56.61], [15, 52.07], [16, 40.89], [17, 18.42], [18, 15.62], [19, 20.15], [20, 15.14], [21, 3.47], [22, 1.25], [23, 0.77]], 'key': 'Religious'}, {'values': [[0, 0.15], [1, 0.13], [2, 0.11], [3, 0.13], [4, 2.49], [5, 5.09], [6, 8.05], [7, 20.12], [8, 21.64], [9, 23.97], [10, 31.43], [11, 58.49], [12, 62.65], [13, 62.69], [14, 62.35], [15, 61.26], [16, 63.09], [17, 65.72], [18, 65.12], [19, 63.64], [20, 60.33], [21, 44.85], [22, 11.67], [23, 0.59]], 'key': 'Restaurant_and_cafe'}, {'values': [[0, 0.76], [1, 0.8], [2, 0.8], [3, 0.8], [4, 0.82], [5, 1.17], [6, 2.86], [7, 7.6], [8, 18.22], [9, 39.22], [10, 86.23], [11, 92.72], [12, 94.68], [13, 94.98], [14, 95.06], [15, 94.74], [16, 93.23], [17, 76.37], [18, 61.62], [19, 51.0], [20, 36.63], [21, 9.9], [22, 2.57], [23, 0.81]], 'key': 'Retail'}, {'values': [[0, 1.14], [1, 1.25], [2, 1.25], [3, 1.25], [4, 1.37], [5, 2.77], [6, 6.06], [7, 23.67], [8, 58.21], [9, 80.1], [10, 86.27], [11, 86.97], [12, 86.78], [13, 86.78], [14, 86.72], [15, 86.11], [16, 82.38], [17, 52.36], [18, 30.32], [19, 20.01], [20, 13.9], [21, 7.67], [22, 2.93], [23, 1.27]], 'key': 'Service'}]
var saturday = [{'values': [[0, 0.06], [1, 0.06], [2, 0.06], [3, 0.06], [4, 0.06], [5, 0.12], [6, 1.0], [7, 2.71], [8, 23.12], [9, 65.94], [10, 92.59], [11, 93.82], [12, 93.53], [13, 93.18], [14, 90.47], [15, 82.82], [16, 69.71], [17, 52.35], [18, 30.35], [19, 17.53], [20, 7.0], [21, 1.12], [22, 0.29], [23, 0.24]], 'key': 'Beauty'}, {'values': [[0, 0.0], [1, 0.0], [2, 0.0], [3, 0.0], [4, 0.0], [5, 0.0], [6, 0.55], [7, 1.66], [8, 2.21], [9, 12.15], [10, 48.9], [11, 70.99], [12, 79.56], [13, 80.94], [14, 79.56], [15, 76.52], [16, 64.09], [17, 30.11], [18, 12.98], [19, 8.56], [20, 5.25], [21, 3.04], [22, 1.38], [23, 0.0]], 'key': 'Culture'}, {'values': [[0, 0.0], [1, 0.0], [2, 0.0], [3, 0.0], [4, 0.0], [5, 0.0], [6, 0.36], [7, 1.07], [8, 2.85], [9, 21.6], [10, 26.44], [11, 26.87], [12, 26.51], [13, 26.02], [14, 24.38], [15, 22.74], [16, 21.1], [17, 4.35], [18, 2.42], [19, 2.0], [20, 1.21], [21, 0.93], [22, 0.71], [23, 0.0]], 'key': 'Education'}, {'values': [[0, 0.72], [1, 0.0], [2, 0.0], [3, 0.0], [4, 0.0], [5, 0.0], [6, 1.45], [7, 2.9], [8, 4.35], [9, 8.7], [10, 18.12], [11, 28.26], [12, 33.33], [13, 33.33], [14, 31.88], [15, 32.61], [16, 31.88], [17, 31.88], [18, 31.16], [19, 30.43], [20, 29.71], [21, 26.09], [22, 21.01], [23, 10.87]], 'key': 'Entertainment'}, {'values': [[0, 3.01], [1, 3.09], [2, 3.09], [3, 3.09], [4, 3.2], [5, 3.58], [6, 4.13], [7, 8.63], [8, 21.19], [9, 66.95], [10, 76.12], [11, 76.35], [12, 70.09], [13, 55.28], [14, 44.53], [15, 37.97], [16, 33.07], [17, 24.85], [18, 20.54], [19, 18.23], [20, 15.0], [21, 8.8], [22, 6.26], [23, 3.58]], 'key': 'Finance'}, {'values': [[0, 0.25], [1, 0.25], [2, 0.25], [3, 0.27], [4, 0.78], [5, 3.71], [6, 9.47], [7, 16.07], [8, 24.15], [9, 33.78], [10, 44.24], [11, 63.14], [12, 67.5], [13, 67.37], [14, 66.5], [15, 64.6], [16, 64.16], [17, 62.14], [18, 59.0], [19, 56.6], [20, 52.1], [21, 37.51], [22, 13.85], [23, 0.9]], 'key': 'Food'}, {'values': [[0, 0.14], [1, 0.15], [2, 0.11], [3, 0.11], [4, 0.12], [5, 0.37], [6, 1.43], [7, 5.84], [8, 25.97], [9, 51.16], [10, 56.74], [11, 56.4], [12, 46.16], [13, 36.53], [14, 29.2], [15, 24.69], [16, 21.52], [17, 15.59], [18, 10.09], [19, 6.9], [20, 4.39], [21, 2.72], [22, 0.55], [23, 0.17]], 'key': 'Health'}, {'values': [[0, 0.0], [1, 0.38], [2, 0.38], [3, 0.38], [4, 0.77], [5, 1.54], [6, 1.54], [7, 1.92], [8, 2.69], [9, 5.77], [10, 8.08], [11, 14.62], [12, 17.69], [13, 17.69], [14, 18.08], [15, 18.85], [16, 20.0], [17, 21.92], [18, 20.77], [19, 20.0], [20, 18.08], [21, 14.23], [22, 6.54], [23, 0.38]], 'key': 'Nightclub'}, {'values': [[0, 0.25], [1, 0.25], [2, 0.25], [3, 0.25], [4, 0.25], [5, 0.27], [6, 0.5], [7, 1.66], [8, 5.25], [9, 30.04], [10, 37.56], [11, 38.12], [12, 33.07], [13, 26.78], [14, 23.34], [15, 20.91], [16, 18.3], [17, 8.08], [18, 5.62], [19, 3.94], [20, 2.78], [21, 1.11], [22, 0.54], [23, 0.27]], 'key': 'Office'}, {'values': [[0, 0.84], [1, 0.89], [2, 0.9], [3, 0.92], [4, 0.98], [5, 1.25], [6, 2.44], [7, 5.9], [8, 16.81], [9, 34.09], [10, 46.86], [11, 48.54], [12, 44.86], [13, 41.75], [14, 38.89], [15, 35.47], [16, 31.42], [17, 22.77], [18, 17.77], [19, 14.18], [20, 9.54], [21, 4.24], [22, 1.8], [23, 0.85]], 'key': 'Other'}, {'values': [[0, 2.56], [1, 2.56], [2, 2.56], [3, 2.56], [4, 2.56], [5, 2.56], [6, 2.56], [7, 5.13], [8, 10.26], [9, 15.38], [10, 15.38], [11, 15.38], [12, 10.26], [13, 10.26], [14, 10.26], [15, 10.26], [16, 10.26], [17, 7.69], [18, 5.13], [19, 5.13], [20, 2.56], [21, 2.56], [22, 2.56], [23, 2.56]], 'key': 'Public'}, {'values': [[0, 9.33], [1, 9.5], [2, 9.5], [3, 9.5], [4, 9.5], [5, 10.02], [6, 16.93], [7, 23.49], [8, 30.22], [9, 48.01], [10, 54.4], [11, 56.99], [12, 46.46], [13, 43.18], [14, 42.66], [15, 40.24], [16, 35.41], [17, 26.77], [18, 22.63], [19, 18.31], [20, 12.95], [21, 9.5], [22, 5.7], [23, 0.0]], 'key': 'Recreation'}, {'values': [[0, 0.87], [1, 0.96], [2, 0.96], [3, 0.96], [4, 1.06], [5, 1.45], [6, 2.12], [7, 3.28], [8, 9.35], [9, 24.98], [10, 27.0], [11, 27.39], [12, 24.69], [13, 21.02], [14, 19.77], [15, 17.84], [16, 15.62], [17, 14.46], [18, 11.76], [19, 9.35], [20, 7.14], [21, 2.8], [22, 1.25], [23, 0.87]], 'key': 'Religious'}, {'values': [[0, 0.15], [1, 0.19], [2, 0.17], [3, 0.17], [4, 2.37], [5, 4.78], [6, 6.85], [7, 11.77], [8, 19.97], [9, 22.57], [10, 29.25], [11, 50.29], [12, 53.96], [13, 54.13], [14, 53.63], [15, 52.8], [16, 53.65], [17, 56.08], [18, 55.49], [19, 54.43], [20, 51.89], [21, 41.09], [22, 20.46], [23, 1.73]], 'key': 'Restaurant_and_cafe'}, {'values': [[0, 0.72], [1, 0.75], [2, 0.75], [3, 0.75], [4, 0.77], [5, 1.09], [6, 2.47], [7, 4.73], [8, 12.49], [9, 31.48], [10, 78.6], [11, 83.92], [12, 83.57], [13, 82.43], [14, 80.41], [15, 77.26], [16, 73.07], [17, 60.29], [18, 48.91], [19, 41.42], [20, 32.93], [21, 10.8], [22, 3.47], [23, 0.85]], 'key': 'Retail'}, {'values': [[0, 1.16], [1, 1.27], [2, 1.27], [3, 1.27], [4, 1.36], [5, 2.32], [6, 4.86], [7, 14.51], [8, 37.55], [9, 56.57], [10, 62.88], [11, 63.41], [12, 57.26], [13, 53.86], [14, 50.37], [15, 45.72], [16, 40.08], [17, 26.12], [18, 16.63], [19, 12.24], [20, 9.59], [21, 6.91], [22, 2.52], [23, 1.19]], 'key': 'Service'}, {'values': [[0, 6.67], [1, 6.67], [2, 6.67], [3, 6.67], [4, 6.67], [5, 6.67], [6, 13.33], [7, 20.0], [8, 33.33], [9, 40.0], [10, 40.0], [11, 40.0], [12, 33.33], [13, 33.33], [14, 33.33], [15, 33.33], [16, 33.33], [17, 33.33], [18, 26.67], [19, 20.0], [20, 20.0], [21, 13.33], [22, 6.67], [23, 6.67]], 'key': 'Transportation'}]
var friday = [{'values': [[0, 0.18], [1, 0.18], [2, 0.18], [3, 0.18], [4, 0.18], [5, 2.29], [6, 3.24], [7, 3.82], [8, 11.29], [9, 53.0], [10, 91.18], [11, 94.82], [12, 96.76], [13, 96.88], [14, 96.65], [15, 95.0], [16, 92.12], [17, 81.47], [18, 69.24], [19, 47.18], [20, 16.94], [21, 5.41], [22, 0.71], [23, 0.12]], 'key': 'Beauty'}, {'values': [[0, 0.0], [1, 0.0], [2, 0.0], [3, 0.0], [4, 0.0], [5, 0.0], [6, 0.55], [7, 1.93], [8, 4.42], [9, 20.44], [10, 59.39], [11, 77.35], [12, 87.85], [13, 90.88], [14, 90.88], [15, 90.06], [16, 81.77], [17, 50.28], [18, 22.93], [19, 12.43], [20, 5.8], [21, 3.04], [22, 1.1], [23, 0.0]], 'key': 'Culture'}, {'values': [[0, 0.07], [1, 0.07], [2, 0.14], [3, 0.14], [4, 0.14], [5, 0.64], [6, 9.84], [7, 39.7], [8, 60.87], [9, 88.03], [10, 92.37], [11, 93.16], [12, 92.73], [13, 92.73], [14, 92.09], [15, 86.17], [16, 73.98], [17, 51.46], [18, 19.74], [19, 7.41], [20, 5.2], [21, 2.42], [22, 1.21], [23, 0.43]], 'key': 'Education'}, {'values': [[0, 0.0], [1, 0.0], [2, 0.0], [3, 0.0], [4, 0.0], [5, 0.0], [6, 1.45], [7, 2.17], [8, 5.07], [9, 11.59], [10, 19.57], [11, 30.43], [12, 38.41], [13, 38.41], [14, 38.41], [15, 38.41], [16, 38.41], [17, 33.33], [18, 31.88], [19, 31.16], [20, 30.43], [21, 26.09], [22, 20.29], [23, 10.87]], 'key': 'Entertainment'}, {'values': [[0, 3.12], [1, 3.2], [2, 3.2], [3, 3.2], [4, 3.3], [5, 3.79], [6, 4.24], [7, 10.31], [8, 30.27], [9, 86.04], [10, 94.85], [11, 95.6], [12, 95.47], [13, 95.81], [14, 96.19], [15, 95.81], [16, 93.87], [17, 71.2], [18, 40.94], [19, 26.2], [20, 20.59], [21, 9.8], [22, 6.55], [23, 3.79]], 'key': 'Finance'}, {'values': [[0, 0.35], [1, 0.36], [2, 0.36], [3, 0.4], [4, 0.98], [5, 4.83], [6, 10.73], [7, 19.08], [8, 27.22], [9, 36.72], [10, 47.7], [11, 68.72], [12, 72.79], [13, 72.77], [14, 72.22], [15, 70.4], [16, 70.12], [17, 66.98], [18, 63.2], [19, 59.37], [20, 53.54], [21, 37.98], [22, 13.94], [23, 1.02]], 'key': 'Food'}, {'values': [[0, 0.17], [1, 0.18], [2, 0.16], [3, 0.16], [4, 0.2], [5, 2.03], [6, 4.09], [7, 11.55], [8, 36.52], [9, 73.78], [10, 82.4], [11, 83.25], [12, 80.31], [13, 77.36], [14, 73.71], [15, 70.27], [16, 63.93], [17, 35.73], [18, 27.1], [19, 18.6], [20, 11.93], [21, 4.87], [22, 0.9], [23, 0.1]], 'key': 'Health'}, {'values': [[0, 0.0], [1, 0.38], [2, 0.38], [3, 0.38], [4, 0.77], [5, 1.54], [6, 1.54], [7, 1.92], [8, 3.08], [9, 6.15], [10, 8.08], [11, 15.38], [12, 18.85], [13, 18.85], [14, 19.23], [15, 20.38], [16, 21.54], [17, 23.08], [18, 22.69], [19, 21.92], [20, 19.62], [21, 15.0], [22, 6.92], [23, 0.38]], 'key': 'Nightclub'}, {'values': [[0, 0.23], [1, 0.23], [2, 0.23], [3, 0.23], [4, 0.25], [5, 0.29], [6, 0.62], [7, 2.77], [8, 16.2], [9, 91.33], [10, 96.21], [11, 96.48], [12, 96.26], [13, 96.51], [14, 96.38], [15, 95.77], [16, 93.58], [17, 35.32], [18, 13.32], [19, 7.18], [20, 3.96], [21, 1.38], [22, 0.54], [23, 0.27]], 'key': 'Office'}, {'values': [[0, 0.94], [1, 1.01], [2, 1.02], [3, 1.04], [4, 1.12], [5, 1.7], [6, 3.95], [7, 12.3], [8, 36.35], [9, 68.32], [10, 81.31], [11, 83.5], [12, 84.22], [13, 84.17], [14, 84.19], [15, 83.42], [16, 78.38], [17, 45.06], [18, 30.34], [19, 21.4], [20, 13.32], [21, 5.26], [22, 2.16], [23, 0.96]], 'key': 'Other'}, {'values': [[0, 2.56], [1, 2.56], [2, 2.56], [3, 2.56], [4, 2.56], [5, 5.13], [6, 5.13], [7, 7.69], [8, 48.72], [9, 87.18], [10, 87.18], [11, 87.18], [12, 87.18], [13, 87.18], [14, 87.18], [15, 87.18], [16, 82.05], [17, 17.95], [18, 7.69], [19, 7.69], [20, 5.13], [21, 2.56], [22, 2.56], [23, 2.56]], 'key': 'Public'}, {'values': [[0, 9.33], [1, 9.5], [2, 9.5], [3, 9.5], [4, 9.5], [5, 11.57], [6, 21.76], [7, 28.15], [8, 51.81], [9, 81.87], [10, 87.39], [11, 89.98], [12, 82.21], [13, 82.56], [14, 82.9], [15, 81.52], [16, 68.22], [17, 38.86], [18, 34.54], [19, 30.22], [20, 21.76], [21, 14.16], [22, 5.7], [23, 0.0]], 'key': 'Recreation'}, {'values': [[0, 0.87], [1, 0.96], [2, 0.96], [3, 0.96], [4, 1.06], [5, 1.45], [6, 2.6], [7, 6.17], [8, 16.39], [9, 54.97], [10, 59.31], [11, 59.59], [12, 57.09], [13, 55.64], [14, 52.84], [15, 48.51], [16, 38.19], [17, 16.78], [18, 13.4], [19, 11.38], [20, 9.84], [21, 3.86], [22, 1.45], [23, 0.87]], 'key': 'Religious'}, {'values': [[0, 0.13], [1, 0.13], [2, 0.11], [3, 0.13], [4, 2.49], [5, 5.01], [6, 7.91], [7, 19.68], [8, 21.1], [9, 23.25], [10, 29.91], [11, 52.51], [12, 56.23], [13, 56.27], [14, 55.82], [15, 54.56], [16, 55.32], [17, 57.47], [18, 56.8], [19, 55.55], [20, 52.82], [21, 42.65], [22, 20.59], [23, 1.73]], 'key': 'Restaurant_and_cafe'}, {'values': [[0, 0.77], [1, 0.81], [2, 0.81], [3, 0.81], [4, 0.83], [5, 1.18], [6, 2.85], [7, 7.48], [8, 17.98], [9, 39.64], [10, 86.53], [11, 92.68], [12, 94.61], [13, 94.85], [14, 94.88], [15, 94.42], [16, 92.58], [17, 75.17], [18, 60.56], [19, 50.6], [20, 36.7], [21, 10.1], [22, 3.52], [23, 0.91]], 'key': 'Retail'}, {'values': [[0, 1.16], [1, 1.26], [2, 1.26], [3, 1.27], [4, 1.37], [5, 2.61], [6, 5.9], [7, 23.53], [8, 58.0], [9, 79.98], [10, 86.15], [11, 86.87], [12, 86.64], [13, 86.66], [14, 86.56], [15, 85.84], [16, 81.97], [17, 51.54], [18, 28.16], [19, 18.42], [20, 13.02], [21, 7.49], [22, 2.79], [23, 1.27]], 'key': 'Service'}, {'values': [[0, 6.67], [1, 6.67], [2, 6.67], [3, 6.67], [4, 6.67], [5, 6.67], [6, 20.0], [7, 26.67], [8, 40.0], [9, 60.0], [10, 60.0], [11, 60.0], [12, 60.0], [13, 60.0], [14, 53.33], [15, 53.33], [16, 53.33], [17, 40.0], [18, 33.33], [19, 20.0], [20, 20.0], [21, 13.33], [22, 6.67], [23, 6.67]], 'key': 'Transportation'}]



var colors = ["#6D972B",
"#CA53DD",
"#C64E48",
"#39C2CA",
"#A496DF",
"#50DF9A",
"#62E53A",
"#D9A631",
"#9C5B91",
"#CE4677",
"#8F6821",
"#4C7BA9",
"#3C7038",
"#D65723",
"#CB50AF",
"#6E67CC",
"#62D15A",
"#4CA45A",
"#A0DF40"]
var width = 1200
var height = 700
var chart = d3.select("#chart1").append("svg").attr("width",width).attr("height",height)

function colorDictionary(data,colorArray){
    var dictionary = {}
    for(var c in data){
        var key = data[c].key
        dictionary[key]=colorArray[c]
    }
    return dictionary
}

var colorDictionary =colorDictionary(saturday,colors)
var data = combineData(wednesday,friday,saturday)
formatData(data)

function combineData(data1,data2,data3){
    var combined = {}
    for(var c in data1){
        combinedValues=[]
        var keyCat = data1[c].key
        for(var v in data1[c].values){
            var value1 = data1[c].values[v][1]
            var value2 = data2[c].values[v][1]
            var value3 = data3[c].values[v][1]
            combinedValue = [v,value1,value2,value3]
         //   combinedValue = combinedValue.unshift(v)
            combinedValues.push(combinedValue)
        }
        combined[keyCat] = combinedValues
    }
    return combined
}

function formatData(data){
    var formated = []
    var offset = 0
    for(var c in data){
        drawDots(data[c],c,offset)
        offset+=1        
    }
    chart.append("text").attr("class","text_all").text("See All Together").attr("x",35).attr("y",10).attr("opacity",1)
    .on("click",function(){
        d3.selectAll("text").attr("opacity",1)
        d3.selectAll("rect").attr("opacity",.2)
    })
    var margin = 10
    
    var xScale = d3.scale.linear().domain([0,24]).range([margin*3,width-margin])
    var xAxis = d3.svg.axis().scale(xScale).orient("bottom").ticks(24)
    chart.append("g")    
        .attr("class", "axis")
          .attr("transform", "translate(30,"+680+")")
        .call(xAxis)
}

function drawDots(data,className,offset){
    var margin = 10
    var yScale = d3.scale.linear().domain([0,100]).range([height-margin,margin])
    var xScale = d3.scale.linear().domain([0,24]).range([margin*3,width-margin])
    var radius = 30
    var opacity =.2
   
   // .attr("opacity",.05)
   //var line = d3.svg.line()
   //    .x(function(d){console.log("width:"+xScale(d)); return xScale(d)+margin})
   //    .y(function(d){console.log("height:" + yScale(d)); return height - yScale(d)+margin})
    chart.append("text").text(className).attr("x",35).attr("y",30+offset*20).attr("fill",colorDictionary[className]).attr("class",className)
    .on("click",function(){
        d3.selectAll("rect").attr("opacity",.1)
        d3.selectAll("text").attr("opacity",.4)
        d3.selectAll("."+className).attr("opacity",1)
        
    })
    //.on("mouseout",function(){
    //    d3.selectAll("rect").attr("opacity",.2)
    //    d3.selectAll("text").attr("opacity",1)
    //})
    chart.selectAll("."+className)
    .data(data)
        .enter()
        .append("rect")
        .attr("x",function(d){return xScale(d[0])+margin})    
        .attr("y",function(d){return yScale(Math.max(d[1],d[2],d[3]))})
        .attr("width",radius)
        .attr("height",function(d){
            return Math.abs(yScale(Math.max(d[1],d[2],d[3]))-yScale(Math.min(d[1],d[2],d[3])))})
        .attr("class",className)
        .attr("fill",colorDictionary[className])
        .attr("opacity",opacity)
        .on("mouseover",function(d){
            d3.select("#rollover").html("At time "+d[0]
            +", businesses in the "+className
            +" industry is between "+d[3]
            +"% and "
            +d[1]+"% open")
        })
//    chart.selectAll("."+className+"_1")
//        .data(data[1])
//        .enter()
//        .append("circle")
//        .attr("cx",function(d){return xScale(d[0])+margin})    
//        .attr("cy",function(d){return yScale(Math.min(d[1],d[2],d[3]))+margin})
//        .attr("r",radius)
//        .attr("class",className)
//        .attr("fill",colorDictionary[className])
//        .attr("opacity",opacity)
//        .on("mouseover",function(d){
//            console.log(d)
//  
//        })
  //  chart.selectAll("."+className+"_2")
  //      .data(data[2])
  //      .enter()
  //      .append("rect")
  //      .attr("x",function(d){return xScale(d[0])+margin+radius*2})    
  //      .attr("y",function(d){return yScale(d[1])+margin})
  //      .attr("width",radius)
  //      .attr("height",function(d){return  height - yScale(d[1])+margin})
  //      .attr("class",className)
  //      .attr("fill",colorDictionary[className])
  //      .attr("opacity",opacity)
  //      .on("mouseover",function(d){
  //          var time = timeFormat(d[0])
  //          var text = "Saturday: "+ time+" "+d[1]+"%"
  //         d3.select(".tip").html(text)
  //      })
  //      .on("mouseout",function(d){
  //          tip.hide()
  //      })
}

function timeFormat(time){
    var newTime =time+"AM"
    if(time>12){
        newTime = time%12+"PM"
    }
    return newTime
}
